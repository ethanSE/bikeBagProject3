(this["webpackJsonpcavas-test"]=this["webpackJsonpcavas-test"]||[]).push([[0],{15:function(e,t,n){e.exports={home:"Home_home__1Dy7R",iconDescContainer:"Home_iconDescContainer__2aeJc",row:"Home_row__3LK7r",bigScreenReverseRow:"Home_bigScreenReverseRow__g0Vzb",icon:"Home_icon__VmebA",text:"Home_text__pDbk_",button:"Home_button__bsVSe util_button__1sC5P"}},213:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t);var i=n(3),c=n.n(i),s=n(74),a=n.n(s),r=n(10),o=n(8),u={image:null,scale:null,shape:null,download:null},l=function(e,t){switch(t){case"image":return Object(o.a)(Object(o.a)({},e),{},{image:"active",scale:null===e.scale?null:"minimized",shape:null===e.shape?null:"minimized"});case"scale":return Object(o.a)(Object(o.a)({},e),{},{scale:"active",image:"minimized",shape:null==e.shape?null:"minimized"});case"shape":return Object(o.a)(Object(o.a)({},e),{},{shape:"active",image:"minimized",scale:"minimized"});case"clear":return{image:null,scale:null,shape:null,download:null};default:throw new Error("invalid custom spec phase")}};var d=n(38),h=n(20),b=n.n(h),p=n(36),j=n(127),m=n(216);function f(e,t){switch(t.type){case"addDesigns":return e.some((function(e){return e.id===t.value.id}))?e:[].concat(Object(d.a)(e),Object(d.a)(t.value)).filter((function(e){return!e._deleted})).sort((function(e,t){return Date.parse(e.createdAt)>Date.parse(t.createdAt)?1:-1}));case"updateDesign":var n=e;return n[n.findIndex((function(e){return e.id===t.value.id}))]=t.value,n;case"deleteDesign":return e.filter((function(e){return e.id!=t.value.id}));default:throw new Error("invalid action type")}}var g=Object(i.createContext)(null),O=Object(i.createContext)("home"),x=Object(i.createContext)(null),v=Object(i.createContext)(),_=n(64),w=n.n(_),y=n(58),C=n(2);function k(){var e=Object(i.useContext)(O).setActiveMainComponent;return Object(C.jsx)("div",{className:w.a.header,children:Object(C.jsxs)("div",{className:w.a.headerContent,children:[Object(C.jsx)("h1",{className:w.a.headerTitle,children:"Bike Bag Project"}),Object(C.jsxs)("div",{className:w.a.links,children:[Object(C.jsx)(S,{}),Object(C.jsx)("h3",{onClick:function(){return e("customSpec")},children:" Custom "}),Object(C.jsx)("h3",{onClick:function(){return e("home")},children:" Home "}),Object(C.jsx)("h3",{onClick:function(){return e("history")},children:" History"})]})]})})}var S=function(){var e=Object(i.useContext)(O).setActiveMainComponent;return Object(i.useContext)(g).user?Object(C.jsx)("h3",{onClick:function(){return e("account")},children:" Account "}):Object(C.jsx)("h3",{onClick:function(){return y.a.federatedSignIn()},children:" Sign In "})},I=n(15),N=n.n(I),D=n(133),A=n.n(D),T=n(135),z=n.n(T),M=n(136),L=n.n(M),R=n(137),P=n.n(R),E=function(){var e=Object(i.useContext)(O).setActiveMainComponent;return Object(C.jsxs)("div",{className:N.a.home,children:[Object(C.jsx)("h1",{children:"How it works"}),Object(C.jsxs)("div",{className:N.a.iconDescContainer,children:[Object(C.jsxs)("div",{className:N.a.bigScreenReverseRow,children:[Object(C.jsx)("div",{className:N.a.icon,children:Object(C.jsx)(A.a,{fontSize:"inherit",color:"inherit"})}),Object(C.jsx)("div",{className:N.a.text,children:Object(C.jsx)("p",{children:"1. Upload an image of your bike"})})]}),Object(C.jsxs)("div",{className:N.a.row,children:[Object(C.jsx)("div",{className:N.a.icon,children:Object(C.jsx)(z.a,{fontSize:"inherit",color:"inherit"})}),Object(C.jsx)("div",{className:N.a.text,children:Object(C.jsx)("p",{children:"2. Measure your bike to establish the scale"})})]}),Object(C.jsxs)("div",{className:N.a.bigScreenReverseRow,children:[Object(C.jsx)("div",{className:N.a.icon,children:Object(C.jsx)(L.a,{fontSize:"inherit",color:"inherit"})}),Object(C.jsx)("div",{className:N.a.text,children:Object(C.jsx)("p",{children:"3. Outline your desired shape"})})]}),Object(C.jsxs)("div",{className:N.a.row,children:[Object(C.jsx)("div",{className:N.a.icon,children:Object(C.jsx)(P.a,{fontSize:"inherit",color:"inherit"})}),Object(C.jsx)("div",{className:N.a.text,children:Object(C.jsx)("p",{children:"4. Submit your design and receive your custom bike frame bag"})})]})]}),Object(C.jsx)("button",{className:N.a.button,onClick:function(){return e("customSpec")},children:" create custom bag"})]})},U=function(e){return Object(C.jsxs)("svg",Object(o.a)(Object(o.a)({width:644.091,height:341.511},e),{},{viewBox:"0 0 644 342",children:[Object(C.jsx)("path",{d:"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),Object(C.jsx)("rect",{width:52.764,height:118.582,x:369.241,y:-221.188,transform:"matrix(.6959 .71813 -.67781 .73523 0 0)",ry:22.455,opacity:.97,fill:"#0000b2"}),Object(C.jsx)("rect",{width:52.764,height:118.582,x:194.913,y:207.595,transform:"matrix(.98364 -.18014 .23523 .97194 0 0)",ry:18.571,opacity:.97,fill:"#0000b2"}),Object(C.jsx)("path",{d:"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),Object(C.jsx)("path",{d:"M216.762 72.737l15.127 58.618 247.08-27.733L520.254 59.5 508.28 15.38z",fill:"#92ba40"})]}))},H=function(e){return Object(C.jsxs)("svg",Object(o.a)(Object(o.a)({width:644.091,height:341.511},e),{},{viewBox:"0 0 644 342",children:[Object(C.jsx)("path",{d:"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),Object(C.jsx)("path",{d:"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),Object(C.jsx)("path",{d:"M216.577 72.183l48.308 193.333h63.381L520.7 60.837l-12.644-44.79z",fill:"#92ba40"})]}))},q=function(e){return Object(C.jsxs)("svg",Object(o.a)(Object(o.a)({width:644.091,height:341.511},e),{},{viewBox:"0 0 644 342",children:[Object(C.jsx)("path",{d:"M207.937 66.749l305.069-59.25 15.127 52.947L274.75 333.999z",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),Object(C.jsx)("rect",{width:52.764,height:118.582,x:194.913,y:207.595,transform:"matrix(.98364 -.18014 .23523 .97194 0 0)",ry:18.571,opacity:.97,fill:"#0000b2"}),Object(C.jsx)("path",{d:"M207.937 66.749L10.021 264.665 7.5 303.744l267.25 30.255M528.133 60.446L636.546 297.44",fill:"none",stroke:"#e08900",strokeWidth:15,strokeLinecap:"round",strokeLinejoin:"round"}),Object(C.jsx)("path",{d:"M269.523 62.098l51.275 211.962L479.415 104.96 520.7 60.837l-12.644-44.79z",fill:"#92ba40"})]}))},F=n(24),B=n.n(F),W=function(){var e=Object(i.useContext)(x),t=e.customSpecState,n=e.setCustomSpecState,c=e.setActiveCustomSpecPhase,s=function(e){n(Object(o.a)(Object(o.a)({},t),{},{style:e})),c("image")};return Object(C.jsxs)("div",{className:B.a.styleContainer,children:[Object(C.jsxs)("div",{className:"topTube"===t.style?B.a.styleItemActive:B.a.styleItem,onClick:function(){return s("topTube")},children:[Object(C.jsx)("h4",{children:"Top Tube"}),Object(C.jsx)(U,{className:B.a.bagIcon})]}),Object(C.jsxs)("div",{className:"front"===t.style?B.a.styleItemActive:B.a.styleItem,onClick:function(){return s("front")},children:[Object(C.jsx)("h4",{children:"Front"}),Object(C.jsx)(q,{className:B.a.bagIcon})]}),Object(C.jsxs)("div",{className:"full"===t.style?B.a.styleItemActive:B.a.styleItem,onClick:function(){return s("full")},children:[Object(C.jsx)("h4",{children:"Full"}),Object(C.jsx)(H,{className:B.a.bagIcon})]})]})},$=n(50),G=n.n($);function J(){var e=Object(i.useContext)(x),t=e.customSpecUIState,n=e.setActiveCustomSpecPhase;switch(t.image){case"active":return Object(C.jsx)(X,{});case"minimized":return Object(C.jsx)("div",{className:G.a.minimized,onClick:function(){return n("image")},children:Object(C.jsx)("h3",{children:"Image Upload"})});default:return null}}var X=function(){var e=Object(i.useContext)(x),t=e.setCustomSpecState,n=e.customSpecState,c=e.setActiveCustomSpecPhase,s=Object(i.useRef)(),a=Object(i.useRef)(),r=Object(i.useRef)();Object(i.useEffect)((function(){setTimeout((function(){window.scroll({top:s.current.offsetTop,behavior:"smooth"})}),0)}),[]);var u=new Image,l=function(){console.error("The provided file couldn't be loaded as an Image media")};return Object(C.jsxs)("div",{className:G.a.imageUpload,ref:s,children:[Object(C.jsx)("h3",{children:"Image Upload"}),Object(C.jsx)("label",{className:G.a.button,htmlFor:"file",children:Object(C.jsx)("p",{children:"Upload Photo"})}),Object(C.jsx)("input",{className:G.a.fileInput,type:"file",name:"file",id:"file",ref:a,onChange:function(){u.onload=function(){console.log(u),t(Object(o.a)(Object(o.a)({},n),{},{image:u,imageRaw:a.current.files[0]})),c("scale")},u.onerror=l,u.src=URL.createObjectURL(a.current.files[0])}}),Object(C.jsx)("canvas",{className:G.a.hidden,ref:r,width:"",height:""})]})};function Z(e,t){var n,i=arguments,c=this;return function(){clearTimeout(n),n=setTimeout((function(){n=null,e.apply(c,i)}),t)}}function K(e,t,n){var i=e.current.getContext("2d");i.strokeStyle="#FF0000",i.lineWidth=3,t.forEach((function(e){i.beginPath(),i.arc(e.x*n,e.y*n,10,0,2*Math.PI),i.stroke()}))}function V(e,t,n){for(var i=0;i<t.length-1;i++){var c=e.current.getContext("2d");c.strokeStyle="#FF0000",c.lineWidth=3,c.moveTo(t[i].x*n,t[i].y*n),c.lineTo(t[i+1].x*n,t[i+1].y*n),c.stroke()}}function Y(e){var t=Object(i.useState)(window.innerWidth),n=Object(r.a)(t,2),c=n[0],s=n[1];return Object(i.useEffect)((function(){return window.addEventListener("resize",Z((function(){return s(window.innerWidth)}),e)),function(){window.removeEventListener("resize",Z((function(){return s(window.innerWidth)}),e))}}),[]),[c]}var Q=n(51),ee=n.n(Q),te=n(87),ne=n.n(te);function ie(e){return e.message?Object(C.jsxs)("div",{className:ne.a.box,children:[Object(C.jsx)("h4",{className:ne.a.header,children:"Error"}),Object(C.jsx)("p",{className:ne.a.message,children:e.message})]}):null}function ce(){var e=Object(i.useContext)(x),t=e.customSpecUIState,n=e.setActiveCustomSpecPhase;switch(t.scale){case"active":return Object(C.jsx)(se,{});case"minimized":return Object(C.jsx)("div",{className:ee.a.minimized,onClick:function(){return n("scale")},children:Object(C.jsx)("h3",{children:"Scale"})});default:return null}}var se=function(){var e=Object(i.useContext)(x),t=e.setCustomSpecState,n=e.customSpecState,c=e.setActiveCustomSpecPhase,s=Y(0),a=Object(r.a)(s,1)[0],u=Object(i.useState)(),l=Object(r.a)(u,2),h=l[0],b=l[1],p=Object(i.useState)(),j=Object(r.a)(p,2),m=j[0],f=j[1],g=Object(i.useState)(null),O=Object(r.a)(g,2),v=O[0],_=O[1],w=Object(i.useRef)(),y=Object(i.useRef)(),k=Object(i.useRef)([]),S=Object(i.useRef)({selected:!1}).current;Object(i.useEffect)((function(){setTimeout((function(){window.scroll({top:y.current.offsetTop,behavior:"smooth"})}),0)}),[]),Object(i.useEffect)((function(){b(y.current.clientWidth/n.image.width),I()}),[a,h]);var I=function(){w.current.width=n.image.width*h,w.current.height=n.image.height*h,w.current.getContext("2d").drawImage(n.image,0,0,w.current.width,w.current.height),K(w,k.current,h),V(w,k.current,h)};var N=function(){S.selected=!1};return Object(C.jsxs)("div",{className:ee.a.scaleInput,ref:y,style:{minHeight:"50vh",justifyContent:"center"},children:[Object(C.jsx)("h3",{children:"Scale"}),Object(C.jsx)("p",{children:"This step establishes a scale from image units to real world units. Upload a photo of your bike from the side. Select two points in the image and enter the real world distance. Points can be dragged for fine-tuning "}),Object(C.jsx)(ie,{message:v}),Object(C.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),k.current.length<2)_("select two points");else if(m){var i=Math.hypot(k.current[0].x-k.current[1].x,k.current[0].y-k.current[1].y)/m;t(Object(o.a)(Object(o.a)({},n),{},{scale:i})),c("shape")}else _("enter a measurement"),I()},className:ee.a.scaleInputForm,children:[Object(C.jsx)("input",{onChange:function(e){return f(e.target.value)},placeholder:"Top Tube Length in inches",type:"number",step:"0.1",value:m}),Object(C.jsx)("button",{className:ee.a.button,type:"submit",children:"Submit"}),Object(C.jsx)("button",{className:ee.a.button,onClick:function(e){e.preventDefault(),k.current=[],I(),_(null)},children:"Reset"})]}),Object(C.jsx)("canvas",{ref:w,width:"0",height:"0",onMouseDown:function(e){var t=ae(e,w,h),n=k.current.findIndex((function(e){return Math.hypot(t.x-e.x,t.y-e.y)*h<10}));n>=0?S={selected:!0,index:n}:k.current.length<2&&(k.current=[].concat(Object(d.a)(k.current),[{x:t.x,y:t.y}]),S={selected:!0,index:k.current.length-1},I())},onMouseUp:N,onMouseOut:N,onMouseMove:function(e){if(S.selected){var t=ae(e,w,h);k.current[S.index]=t,I()}}})]})},ae=function(e,t,n){var i=t.current.getBoundingClientRect();return{x:(e.clientX-i.left)/n,y:(e.clientY-i.top)/n}},re=n(52),oe=n.n(re),ue=n(92),le="\n  mutation DeleteDesign(\n    $input: DeleteDesignInput!\n    $condition: ModelDesignConditionInput\n  ) {\n    deleteDesign(input: $input, condition: $condition) {\n      id\n      owner\n      image {\n        bucket\n        region\n        key\n      }\n      scale\n      points {\n        x\n        y\n      }\n      createdAt\n      updatedAt\n    }\n  }\n",de=n(251),he={aws_project_region:"us-west-2",aws_cognito_identity_pool_id:"us-west-2:7d2867cf-c254-4dc3-acb2-c7ee16786981",aws_cognito_region:"us-west-2",aws_user_pools_id:"us-west-2_5bo5urKPB",aws_user_pools_web_client_id:"1laj1qo79urimlos4vrc67o3gf",oauth:{domain:"bikebagprojectdev-prod.auth.us-west-2.amazoncognito.com",scope:["phone","email","openid","profile","aws.cognito.signin.user.admin"],redirectSignIn:"https://cube-egg.com/",redirectSignOut:"https://cube-egg.com/",responseType:"code"},federationTarget:"COGNITO_USER_POOLS",aws_user_files_s3_bucket:"bike-bag-project-dev-images232941-prod",aws_user_files_s3_bucket_region:"us-west-2",aws_appsync_graphqlEndpoint:"https://bjqqgqyesfbqvi4lszpdmm6bce.appsync-api.us-west-2.amazonaws.com/graphql",aws_appsync_region:"us-west-2",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS"},be=he.aws_user_files_s3_bucket_region,pe=he.aws_user_files_s3_bucket;function je(){var e=Object(i.useContext)(x),t=e.customSpecUIState,n=e.setActiveCustomSpecPhase;switch(t.shape){case"active":return Object(C.jsx)(me,{});case"minimized":return Object(C.jsx)("div",{className:oe.a.minimized,onClick:function(){return n("shape")},children:Object(C.jsx)("h3",{children:"Shape"})});default:return null}}var me=function(){var e=Object(i.useContext)(O).setActiveMainComponent,t=Object(i.useContext)(x),n=t.customSpecState,c=t.setActiveCustomSpecPhase,s=Object(i.useContext)(g).user,a=Y(0),o=Object(r.a)(a,1)[0],u=Object(i.useState)([]),l=Object(r.a)(u,2),h=l[0],j=l[1],m=Object(i.useState)(!0),f=Object(r.a)(m,2),v=f[0],_=f[1],w=Object(i.useRef)(),y=Object(i.useRef)(),k=Object(i.useRef)();Object(i.useEffect)((function(){S()}),[o,h]),Object(i.useEffect)((function(){setTimeout((function(){window.scroll({top:y.current.offsetTop,behavior:"smooth"})}),0)}),[]);var S=function(){w.current.width=y.current.clientWidth,k.current=w.current.width/n.image.width,w.current.height=k.current*n.image.height,w.current.getContext("2d").drawImage(n.image,0,0,w.current.width,w.current.height),K(w,h,k.current),V(w,h,k.current)},I=function(){var t=Object(p.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(!1),t.next=3,fe(n.imageRaw,h,n.scale,s.attributes.sub);case 3:e("account"),c("clear");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:oe.a.shapeInput,ref:y,style:{minHeight:"50vh"},children:[Object(C.jsx)("h3",{children:"Shape"}),Object(C.jsxs)("div",{className:oe.a.buttonRow,children:[Object(C.jsx)("button",{className:oe.a.button,onClick:v&&I,children:"Submit Design"}),Object(C.jsx)("button",{className:oe.a.button,onClick:function(){return j([])},children:"Reset Shape"})]}),Object(C.jsx)("canvas",{ref:w,width:"0",height:"0",onClick:function(e){var t=w.current.getBoundingClientRect(),i=e.clientX-t.left,c=e.clientY-t.top,s=i*n.image.width/w.current.width,a=c*n.image.height/w.current.height;h.forEach((function(e){var t=e.x*k.current-s*k.current,n=e.y*k.current-a*k.current;Math.hypot(t,n)<10&&j([].concat(Object(d.a)(h),[e]))})),j([].concat(Object(d.a)(h),[{x:s,y:a}]))}})]})},fe=function(){var e=Object(p.a)(b.a.mark((function e(t,n,i,c){var s,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.put("".concat(Object(de.a)()),t,{contentType:"image/png"});case 3:return s=e.sent,a=s.key,r={id:"".concat(Object(de.a)()),owner:c,image:{bucket:pe,region:be,key:a},scale:i,points:n},e.next=8,j.a.graphql(Object(m.b)("\n  mutation CreateDesign(\n    $input: CreateDesignInput!\n    $condition: ModelDesignConditionInput\n  ) {\n    createDesign(input: $input, condition: $condition) {\n      id\n      owner\n      image {\n        bucket\n        region\n        key\n      }\n      scale\n      points {\n        x\n        y\n      }\n      createdAt\n      updatedAt\n    }\n  }\n",{input:r}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,i,c){return e.apply(this,arguments)}}(),ge=n(53),Oe=n.n(ge);function xe(){return Object(i.useContext)(g).user?Object(C.jsx)("div",{className:Oe.a.customSpecContainer,children:Object(C.jsxs)("div",{className:Oe.a.customSpecContents,children:[Object(C.jsx)(W,{}),Object(C.jsx)(J,{}),Object(C.jsx)(ce,{}),Object(C.jsx)(je,{})]})}):Object(C.jsx)(ve,{})}var ve=function(){return Object(C.jsx)("div",{className:Oe.a.customSpecContainer,children:Object(C.jsxs)("div",{className:Oe.a.customSpecContents,children:[Object(C.jsx)("h1",{children:"Sign in to create a custom bag"}),Object(C.jsx)("button",{className:Oe.a.button,onClick:function(){return y.a.federatedSignIn()},children:" Sign In "})]})})},_e=n(29);function we(){return Object(C.jsx)("div",{className:_e.accountContainer,children:Object(C.jsx)(ye,{})})}var ye=function(){var e=Object(i.useContext)(v),t=e.designs,n=e.status,c=e.refresh;switch(n){case"done":return Object(C.jsxs)("div",{className:_e.designListContainer,children:[Object(C.jsx)("h1",{children:"Your saved designs"}),Object(C.jsx)(ke,{status:n,designCount:t.length}),t.map((function(e){return Object(C.jsx)(Ce,{design:e},e.id)}))]});case"loading":return Object(C.jsx)("p",{children:"loading"});default:return Object(C.jsx)("div",{children:Object(C.jsx)("button",{className:_e.button,onClick:c,children:"RELOAD"})})}},Ce=function(e){var t=Object(i.useRef)();Object(i.useEffect)((function(){ue.a.get(e.design.image.key).then((function(e){return n(e)})).catch((function(e){return console.log("error fetching image",e)}))}),[]);var n=function(n){var i=t.current.getContext("2d"),c=new Image;c.src=n,c.onload=function(){if(null===t||void 0===t?void 0:t.current){t.current.height=c.height/c.width*t.current.width,i.drawImage(c,0,0,t.current.width,t.current.height);var n=t.current.width/c.width;K(t,e.design.points,n),V(t,e.design.points,n)}}};function c(){return(c=Object(p.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.graphql(Object(m.b)(le,{input:{id:e.design.id,_version:e.design._version}}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}return Object(C.jsxs)("div",{className:_e.design,children:[Object(C.jsxs)("p",{children:["id = ",e.design.id]}),Object(C.jsx)("canvas",{ref:t,className:_e.canvas}),Object(C.jsx)("div",{className:_e.buttonContainer,children:Object(C.jsx)("button",{className:_e.button,onClick:function(){return c.apply(this,arguments)},children:"DELETE"})})]})},ke=function(e){var t=Object(i.useContext)(O).setActiveMainComponent;return"done"!==e.status||e.designCount>0?null:Object(C.jsxs)("div",{className:_e.createDesignContainer,children:[Object(C.jsx)("p",{children:"You have no saved designs"}),Object(C.jsx)("div",{className:_e.button,onClick:function(){return t("customSpec")},children:Object(C.jsx)("p",{children:"create"})})]})},Se=n(40),Ie=n.n(Se),Ne=n.p+"static/media/frameShape.06605e76.jpeg",De=n.p+"static/media/tracedShape.e693b6f3.jpeg",Ae=n.p+"static/media/preppedMaterialsBagOne.9fe3b413.jpeg",Te=n.p+"static/media/firstAttatchmentMethod.c2371175.jpeg",ze=n.p+"static/media/greenZipperSide.6912fd35.jpeg",Me=n.p+"static/media/greenBottleSide.2a1f1106.jpeg",Le=n.p+"static/media/sandyRiverDelta.d67e6520.jpeg",Re=n.p+"static/media/IMG_7651.dcca90a3.JPG",Pe=n.p+"static/media/newZipTop.bc3f1325.jpeg",Ee=[{title:"First Attempt",intro:"As a regular bike commuter I was looking for a way to get some of the weight off of my back and onto the frame of my bike. I had previously used panniers and found them to be awkward and often overkill for the amount of stuff I needed to carry. There are many custom bag manufacturers online but they tend to be fairly expensive and I figured it would be a fun project to make my own.",outro:"This design, while simple, has some drawbacks. Having only a single pocket means the cargo tends to settle towards the bottom and then pushes the sides outward. The bag would need to either have to be shorter in the vertical dimension or have a baffle to minimize bulging.",photos:[{source:Ne,alt:"traced template within bike frame",text:"I held a piece of paperboard behind the bike and traced out the shape of the frame."},{source:De,alt:"shape outline on fabric",text:"Transferred the shape to the fabric, added seam allowances"},{source:Ae,alt:"traced template within bike frame",text:"Repeat with the shape flipped over, and cut out the top, bottom, front, and back at a chosen width"},{source:Te,alt:"traced template within bike frame",text:"To attatch the bag to the frame I sewed a strip of nylon webbing to the sides of the bag that contact the frame and looped around it using double sided velcro tape"}]},{title:"Adding More Pockets",intro:"The idea here was to solve two of the biggest problems of the first bag: the sides buling and difficulty accessing the contents. To this end the main compartment was split into a top and bottom section each with their own zipper and an additional water bottle pocket.",outro:"The three pocket design was definitely an improvement over the single pocket design. The contents were much easier to access, although the zipper usage was still rough.",photos:[{source:ze,alt:"left side of three section design",text:"Three section design, left side."},{source:Me,alt:"shape outline on fabric",text:"Three section design, right side."},{source:Le,alt:"traced template within bike frame",text:"Biking the dog out to Sandy River Delta Park (trailer not pictured)"}]},{title:"Waterproof fabric",intro:"I got a new (to me) bike and wanted a new custom bag as it was a slightly different shape. I also wanted to try out using waterproof fabric. This is made from X-Pac VX21. At ~$21 per yard this is not the cheapest fabric but it is waterproof and very durable.",outro:"This material can be more difficult to sew as the feed dogs don't get very much purchase on the inner waterproof membrane. This problem is more noticable when trying to sew multiple layers together as in the corners.",photos:[{source:Re,alt:"waterproof 2 section design left side",text:"First use of the water proof fabric. At three inches wide this bag is slightly too wide."}]},{title:"New Attatchment and Zipper",intro:"Previous designs used a zipper on the top seam. This tends to twist apart when open making the zipper dificult to close. For this next iteration I sewed the zipper into the side. Fabric and velco straps come out of the seams which pulls the sides taut, maintaing a slim profile when loaded.",outro:"This zipper style is much better. I really like that the new strap system pulls the bag into keeping its shape.",photos:[{source:n.p+"static/media/newZipSide.43b4a0a2.jpeg",alt:"new design with zipper sewn into side",text:"I miscalculated and made the rear straps too short, forcing the bag backwards. I plan to add longer straps and a front cord to pull it taut front to back"},{source:Pe,alt:"top down photo showing narrower width",text:"new 2 1/4 inch width"}]},{title:"Further Refinements",intro:"This is essentially the same design as the previous bag but with the addition of second pocket and with more experience sewing zippers.",outro:"This design seems to work well enough.",photos:[{source:n.p+"static/media/final.9eef2061.JPEG",alt:"new design with zipper sewn into side",text:"most recent iteration"}]}];function Ue(){return Object(C.jsxs)("div",{className:Ie.a.history,children:[Object(C.jsx)("h1",{children:"History"}),Ee.map((function(e){return Object(C.jsx)(He,{title:e.title,intro:e.intro,photos:e.photos,outro:e.outro})}))]})}function He(e){return Object(C.jsxs)("div",{className:Ie.a.bagDiv,children:[Object(C.jsx)("h1",{children:e.title}),Object(C.jsxs)("p",{className:Ie.a.introductionConclusion,children:[e.intro," "]}),Object(C.jsx)("div",{className:Ie.a.imageGrid,children:e.photos.map((function(e){return Object(C.jsx)(qe,{source:e.source,alt:e.alt,text:e.text})}))}),Object(C.jsx)("p",{className:Ie.a.introductionConclusion,children:e.outro})]})}function qe(e){return Object(C.jsxs)("div",{className:Ie.a.photoAndDescription,children:[Object(C.jsx)("img",{className:Ie.a.image,src:e.source,alt:e.alt}),Object(C.jsx)("p",{children:e.text})]})}var Fe=n(35),Be=n(90);function We(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(i.useState)("home"),a=Object(r.a)(s,2),o=a[0],d=a[1],h=Object(i.useState)({style:"",image:null,scale:null,shape:null}),_=Object(r.a)(h,2),w=_[0],S=_[1];Object(i.useEffect)((function(){Be.a.listen("auth",(function(e){var t=e.payload,n=t.event;t.data;"signOut"===n?(c(null),d("home")):"signIn"===n&&y.a.currentAuthenticatedUser().then((function(e){return c(e)}))}))}));var I=function(){var e=Object(i.useReducer)(l,u),t=Object(r.a)(e,2),n=t[0],c=t[1];return[n,function(e){c(e)}]}(),N=Object(r.a)(I,2),D={customSpecState:w,setCustomSpecState:S,customSpecUIState:N[0],setActiveCustomSpecPhase:N[1]},A=function(e){var t=Object(i.useReducer)(f,[]),n=Object(r.a)(t,2),c=n[0],s=n[1],a=Object(i.useState)("loading"),o=Object(r.a)(a,2),u=o[0],l=o[1],d=Object(i.useState)([]),h=Object(r.a)(d,2),g=h[0],O=h[1];Object(i.useEffect)((function(){return e&&(x(),v()),function(){g.forEach((function(e){return e.unsubscribe()}))}}),[e]);var x=function(){var t=Object(p.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.graphql(Object(m.b)("\n  query ListDesigns(\n    $filter: ModelDesignFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listDesigns(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        owner\n        image {\n          bucket\n          region\n          key\n        }\n        scale\n        points {\n          x\n          y\n        }\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n",{filter:{owner:{eq:e.attributes.sub}}}));case 3:n=t.sent,s({type:"addDesigns",value:n.data.listDesigns.items}),l("done"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),l("failed"),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),v=function(){var e=j.a.graphql(Object(m.b)("\n  subscription OnCreateDesign {\n    onCreateDesign {\n      id\n      owner\n      image {\n        bucket\n        region\n        key\n      }\n      scale\n      points {\n        x\n        y\n      }\n      createdAt\n      updatedAt\n    }\n  }\n")).subscribe({next:function(e){var t=e.value.data.onCreateDesign;s({type:"addDesigns",value:[t]})},error:function(e){return console.log(e)}}),t=j.a.graphql(Object(m.b)("\n  subscription OnUpdateDesign {\n    onUpdateDesign {\n      id\n      owner\n      image {\n        bucket\n        region\n        key\n      }\n      scale\n      points {\n        x\n        y\n      }\n      createdAt\n      updatedAt\n    }\n  }\n")).subscribe({next:function(e){var t=e.value.data.onUpdateDesign;s({type:"updateDesign",value:t})},error:function(e){return console.log(e)}}),n=j.a.graphql(Object(m.b)("\n  subscription OnDeleteDesign {\n    onDeleteDesign {\n      id\n      owner\n      image {\n        bucket\n        region\n        key\n      }\n      scale\n      points {\n        x\n        y\n      }\n      createdAt\n      updatedAt\n    }\n  }\n")).subscribe({next:function(e){var t=e.value.data.onDeleteDesign;s({type:"deleteDesign",value:t})}});O([e,t,n])};return[c,u,function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l("loading"),x();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()]}(n),T=Object(r.a)(A,3),z=T[0],M=T[1],L=T[2];return Object(C.jsx)(g.Provider,{value:{user:n,setUser:c},children:Object(C.jsx)(O.Provider,{value:{activeMainComponent:o,setActiveMainComponent:d},children:Object(C.jsx)(x.Provider,{value:D,children:Object(C.jsxs)(v.Provider,{value:{designs:z,status:M,refresh:L},children:[Object(C.jsx)(k,{}),Object(C.jsx)($e,{})]})})})})}Fe.default.configure(he);var $e=function(){switch(Object(i.useContext)(O).activeMainComponent){case"home":return Object(C.jsx)(E,{});case"customSpec":return Object(C.jsx)(xe,{});case"account":return Object(C.jsx)(we,{});case"history":return Object(C.jsx)(Ue,{});default:console.log("default")}},Ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,252)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),s(e),a(e)}))};n(213);a.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(We,{})}),document.getElementById("root")),Ge()},24:function(e,t,n){e.exports={bagIcon:"StyleSelection_bagIcon__333sr",styleContainer:"StyleSelection_styleContainer__88yhR",styleItem:"StyleSelection_styleItem__y29l6",styleItemActive:"StyleSelection_styleItemActive__3vczp"}},29:function(e,t,n){e.exports={accountContainer:"Account_accountContainer__1P75I",designListContainer:"Account_designListContainer__oDTMy",canvas:"Account_canvas__CC2Ql",button:"Account_button__2lxo1 util_button__1sC5P",design:"Account_design__2UOyq",createDesignContainer:"Account_createDesignContainer__2GIPs",buttonContainer:"Account_buttonContainer__1XeKE"}},40:function(e,t,n){e.exports={history:"History_history__16EcL",bagDiv:"History_bagDiv__VlhCI",imageGrid:"History_imageGrid__1kUZ_",image:"History_image__q_RHT",photoAndDescription:"History_photoAndDescription__vJ__0",list:"History_list__3Uk5A",introductionConclusion:"History_introductionConclusion__oZjSE"}},50:function(e,t,n){e.exports={imageUpload:"ImageUpload_imageUpload__35OWb util_customInputDiv__4uw4k",button:"ImageUpload_button__1lU1y util_button__1sC5P",fileInput:"ImageUpload_fileInput__iUJMs",hidden:"ImageUpload_hidden__1w3xx",minimized:"ImageUpload_minimized__3BKa- util_minimized__2BdqK"}},51:function(e,t,n){e.exports={scaleInputForm:"ScaleInput_scaleInputForm__3tQdb",scaleInput:"ScaleInput_scaleInput__vJ48n util_customInputDiv__4uw4k",button:"ScaleInput_button__2SGIq util_button__1sC5P",minimized:"ScaleInput_minimized__2Vofd util_minimized__2BdqK"}},52:function(e,t,n){e.exports={shapeInput:"ShapeInput_shapeInput__1m4v1 util_customInputDiv__4uw4k",buttonRow:"ShapeInput_buttonRow__3u-kP",button:"ShapeInput_button__3HIYw util_button__1sC5P",minimized:"ShapeInput_minimized__2rnnq util_minimized__2BdqK"}},53:function(e,t,n){e.exports={customSpecContainer:"CustomSpec_customSpecContainer__2hYi5",customSpecContents:"CustomSpec_customSpecContents__3hEln",button:"CustomSpec_button__ScOuX util_button__1sC5P"}},64:function(e,t,n){e.exports={header:"Header_header__-6r4D",headerContent:"Header_headerContent__1sgHF",headerTitle:"Header_headerTitle__Giquu",links:"Header_links__1HXf1"}},87:function(e,t,n){e.exports={box:"ErrorMessage_box__2ofJL",header:"ErrorMessage_header__2ZDcX"}}},[[215,1,2]]]);
//# sourceMappingURL=main.0f440e10.chunk.js.map